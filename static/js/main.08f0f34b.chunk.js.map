{"version":3,"sources":["components/Spinner/Spinner.js","reducer/index.js","store/index.js","components/Search/Search.jsx","img/libro1.gif","components/Menu/Menu.jsx","components/MenuCategories/MenuCategories.jsx","components/Home/Home.jsx","App.js","index.js","actions/index.js"],"names":["Spinner","className","initialState","books","loading","search","query","page","numberPage","categories","categ","idCateg","categName","bookDetail","language","rootReducer","state","action","type","payload","array","load","pagina","nroPag","alert","length","id","store","createStore","composeWithDevTools","applyMiddleware","thunk","Search","dispatch","useDispatch","useState","book","setBook","onSubmit","e","preventDefault","searchBook","handleSubmit","placeholder","value","onChange","target","handleInputChange","onClick","getBooks","Menu","src","dib","alt","MenuCategories","useSelector","useEffect","getCategories","map","cat","name","nicename","catId","category_id","catName","getByCategory","List","lazy","Home","fallback","App","basename","process","path","element","ReactDOM","render","StrictMode","document","getElementById","pageNumber","lang","a","axios","get","json","data","json2","console","log","getBookDetail","exitDetail"],"mappings":"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","file":"static/js/main.08f0f34b.chunk.js","sourcesContent":["import './Spinner.css'\r\n\r\nconst Spinner = () => <div className=\"loader\"></div>;\r\n\r\nexport default Spinner;\r\n","const initialState = {\r\n  books: [],\r\n  loading: true,\r\n  search: false,\r\n  query:\"\",\r\n  page: 0,\r\n  numberPage: 1,\r\n  categories: [],\r\n  categ: false,\r\n  idCateg: 0,\r\n  categName: \"\",\r\n  bookDetail: {},\r\n  language: \"\"\r\n};\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"QUERY\":\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case \"GET-BOOKS\":\r\n      let array = action.payload;\r\n\r\n      if (array) {\r\n        return {\r\n          ...state,\r\n          books: action.payload,\r\n          loading: action.load,\r\n          search: action.search,\r\n          page: action.pagina,\r\n          numberPage: action.nroPag,\r\n          categ: action.categ,\r\n          bookDetail: action.bookDetail,\r\n          language: action.language\r\n        };\r\n      } else {\r\n        alert(\"No hay mas libros\", state.books);\r\n        return { ...state };\r\n      }\r\n\r\n    case \"SEARCH-BOOK\":\r\n      if (action.payload.length > 0) {\r\n        return {\r\n          ...state,\r\n          books: action.payload,\r\n          loading: action.load,\r\n          search: action.search,\r\n          query: action.query\r\n        };\r\n      } else{\r\n        alert(\"no encontrados\");\r\n        return {\r\n          ...state,\r\n          loading: action.load,\r\n        };\r\n      } \r\n\r\n    case \"GET-CATEGORIES\":\r\n      return {\r\n        ...state,\r\n        categories: action.payload,\r\n      };\r\n\r\n    case \"GET-BY-CATEGORY\":\r\n      return {\r\n        ...state,\r\n        books: action.payload,\r\n        categ: action.categ,\r\n        idCateg: action.id,\r\n        categName: action.categName,\r\n        loading: action.load,\r\n        search: action.search,\r\n        page: action.pagina,\r\n        numberPage: action.nroPag,\r\n        bookDetail: action.bookDetail,\r\n        language: action.language\r\n      };\r\n    \r\n    case \"GET-BOOK-DETAIL\":\r\n      return{\r\n        ...state,\r\n        bookDetail: action.payload\r\n      };\r\n\r\n      case \"EXIT-DETAIL\":\r\n      return{\r\n        ...state,\r\n        bookDetail: action.payload\r\n      };\r\n\r\n      case \"CHANGE-LANGUAGE\":\r\n        return{\r\n          ...state,\r\n          language:action.payload\r\n        }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default rootReducer;\r\n","import {createStore, applyMiddleware } from 'redux';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '../reducer';\r\n\r\n\r\nexport const store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(thunk))\r\n);","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { searchBook, query, getBooks } from \"../../actions\";\r\nimport \"./Search.css\";\r\n\r\nfunction Search() {\r\n  const dispatch = useDispatch();\r\n  const [book, setBook] = useState(\"\");\r\n\r\n  function handleInputChange(e) {\r\n    e.preventDefault();\r\n    setBook(e.target.value);\r\n  }\r\n  \r\n  //busqueda parcial por nombre del libro o autor\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    dispatch(query(true));\r\n    dispatch(searchBook(book));\r\n    setBook(\"\");\r\n  }\r\n  \r\n\r\n  //\"Todos\" botón, resetea las paginas y trae todos los libros, \r\n  function handleAll() {\r\n    dispatch(query(true));\r\n    dispatch(getBooks(0, 1, \"all\"));\r\n  }\r\n\r\n  return (\r\n    <div className=\"containerSearch\">\r\n      <form className=\"formSearch\" onSubmit={(e) => handleSubmit(e)}>\r\n        <input\r\n          className=\"inputSearch\"\r\n          type=\"text\"\r\n          placeholder=\"Titulo o Autor\"\r\n          value={book}\r\n          onChange={(e) => handleInputChange(e)}\r\n        />\r\n        <input\r\n          className=\"buttonSearch\"\r\n          type=\"submit\"\r\n          value=\"Buscar\"\r\n        />\r\n      </form>\r\n        <button className=\"buttonSearch\" onClick={() => handleAll()}>\r\n          Todos\r\n        </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","export default __webpack_public_path__ + \"static/media/libro1.f4e529df.gif\";","import React from \"react\";\r\nimport Search from \"../Search/Search\";\r\nimport \"./Menu.css\";\r\nimport dib from '../../img/libro1.gif'\r\n\r\nfunction Menu() {\r\n  return (\r\n    <div className=\"container\">\r\n      <img className=\"logo\" src={dib} alt=\"\" />\r\n      <div className=\"Title\">Libros Gratuitos</div>\r\n      <div className=\"search\">\r\n        <Search />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Menu;\r\n","import React, { useEffect } from \"react\";\r\nimport \"./MenuCategories.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getCategories, getByCategory, query } from \"../../actions\";\r\n\r\n\r\nfunction MenuCategories() {\r\n  const dispatch = useDispatch();\r\n  var categories = useSelector((state) => state.categories); //categorias en el State redux\r\n  var language = useSelector((state) => state.language);\r\n\r\n  useEffect(() => {\r\n    dispatch(getCategories());\r\n  }, [dispatch]);\r\n\r\n  function handleCat(catId, catName) {\r\n    dispatch(query(true));\r\n    dispatch(getByCategory(catId, catName, 0, 1, language));\r\n  }\r\n\r\n  return (\r\n   \r\n      <div className=\"ul\">\r\n        <p className=\"liTitle\">CATEGORIAS</p>\r\n        {categories.map((cat) => (\r\n          <p\r\n            className=\"li\"\r\n            key={cat.name}\r\n            name={cat.nicename}\r\n            value={cat.nicename}\r\n            onClick={() => handleCat(cat.category_id, cat.name)}\r\n          >\r\n            {cat.name}\r\n          </p>\r\n        ))}\r\n      </div>\r\n\r\n  );\r\n}\r\n\r\nexport default MenuCategories;\r\n","import React, { lazy, Suspense } from \"react\";\r\nimport \"./Home.css\";\r\nimport Menu from \"../Menu/Menu\";\r\nimport MenuCategories from \"../MenuCategories/MenuCategories\";\r\nimport Spinner from \"../Spinner/Spinner.js\";\r\nconst List = lazy(() => import(\"../List/List\"));\r\n\r\nfunction Home() {\r\n  return (\r\n    <div >\r\n      <Menu />\r\n      <Suspense fallback={<Spinner />}>\r\n        <div className=\"space\">\r\n          <MenuCategories />\r\n          <List className=\"lista\" />\r\n        </div>\r\n      </Suspense>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport Home from \"./components/Home/Home.jsx\";\n\nfunction App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <Routes>\n        <Route path=\"/\" element={<Home />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","import axios from \"axios\";\r\n\r\n\r\n//accion para setear en true loading del state\r\nexport function query(load) {\r\n  return {\r\n    type: \"QUERY\",\r\n    payload: load,\r\n  };\r\n}\r\n\r\n//accion para traer los libros de la api Open Libra (con axios)\r\nexport function getBooks(page, pageNumber, lang) {\r\n  return async function (dispatch) {\r\n    try {\r\n      var json = await axios.get(\r\n        `https://www.etnassoft.com/api/v1/get/?lang=${lang}&results_range=${page}&order=newest`\r\n      );\r\n\r\n      if (json.data) {\r\n        return dispatch({\r\n          type: \"GET-BOOKS\",\r\n          payload: json.data,\r\n          load: false,\r\n          search: false,\r\n          pagina: page,\r\n          nroPag: pageNumber,\r\n          categ: false,\r\n          bookDetail: {},\r\n          language: lang,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      alert(\"No se pudieron obtener los datos\", error);\r\n    }\r\n  };\r\n}\r\n\r\n\r\n//acción que busca en la api Open Libra una palabra, por titulo o por autor\r\nexport function searchBook(query) {\r\n  return async function (dispatch) {\r\n    try {\r\n      var json = await axios.get(\r\n        `https://www.etnassoft.com/api/v1/get/?book_title=${query}`\r\n      );\r\n      if (json.data.length > 0) {\r\n        return dispatch({\r\n          type: \"SEARCH-BOOK\",\r\n          payload: json.data,\r\n          load: false,\r\n          search: true,\r\n          query: query,\r\n        });\r\n      } else {\r\n        var json2 = await axios.get(\r\n          `https://www.etnassoft.com/api/v1/get/?book_author=${query}`\r\n        );\r\n\r\n        return dispatch({\r\n          type: \"SEARCH-BOOK\",\r\n          payload: json2.data,\r\n          load: false,\r\n          search: true,\r\n          query: query,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(\"No se pudo obtener la query\", error);\r\n    }\r\n  };\r\n}\r\n\r\n//acción para obtener todas las categorias de la api Open Libra\r\nexport function getCategories() {\r\n  return async function (dispatch) {\r\n    try {\r\n      var cat = await axios.get(\r\n        `https://www.etnassoft.com/api/v1/get/?get_categories=all`\r\n      );\r\n      return dispatch({\r\n        type: \"GET-CATEGORIES\",\r\n        payload: cat.data,\r\n      });\r\n    } catch (error) {\r\n      console.log(\"No se obtuvieron las categorías\", error);\r\n    }\r\n  };\r\n}\r\n\r\n//accion para obtener libros de la api Open Libra por ID de categoría\r\nexport function getByCategory(catId, catName, page, pageNumber, lang) {\r\n  return async function (dispatch) {\r\n    try {\r\n      var categ = await axios.get(\r\n        `https://www.etnassoft.com/api/v1/get/?category_id=${catId}&lang=${lang}&results_range=${page}`\r\n      );\r\n      return dispatch({\r\n        type: \"GET-BY-CATEGORY\",\r\n        payload: categ.data,\r\n        categ: true,\r\n        id: catId,\r\n        categName: catName,\r\n        load: false,\r\n        search: false,\r\n        pagina: page,\r\n        nroPag: pageNumber,\r\n        bookDetail: {},\r\n        language: lang,\r\n      });\r\n    } catch (error) {\r\n      console.log(\"No se obtuvieron datos\", error);\r\n    }\r\n  };\r\n}\r\n\r\n//accion para llenar el State de redux bookDetail con el libro cliqueado\r\nexport function getBookDetail(book) {\r\n  return {\r\n    type: \"GET-BOOK-DETAIL\",\r\n    payload: book,\r\n  };\r\n}\r\n\r\n//accion para poner el state de bookDetail como obj vacío\r\nexport function exitDetail() {\r\n  return {\r\n    type: \"EXIT-DETAIL\",\r\n    payload: {},\r\n  };\r\n}\r\n\r\n//accion para cambiar el lenguaje de libros en el Stste de redux\r\nexport function changeLanguage(lang) {\r\n  return {\r\n    type: \"CHANGE-LANGUAGE\",\r\n    payload: lang,\r\n  };\r\n}\r\n"],"sourceRoot":""}